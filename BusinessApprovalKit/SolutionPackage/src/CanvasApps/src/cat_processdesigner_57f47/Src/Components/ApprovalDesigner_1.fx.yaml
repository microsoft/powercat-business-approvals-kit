ApprovalDesigner_1 As CanvasComponent:
    AddNode(Path As Number, Row As Number, StageIndex As Number, StageId As String):
        Path:
            Default: =100
        Row:
            Default: =100
        StageIndex:
            Default: =100
        StageId:
            Default: ="Text"
        ThisProperty:
            Default: ="Text"
    EditNode(NodeId As String, StageId As String):
        NodeId:
            Default: ="Text"
        StageId:
            Default: ="Text"
        ThisProperty:
            Default: ="Text"
    EditStage(StageId As String):
        StageId:
            Default: ="Text"
        ThisProperty:
            Default: ="Text"
    MoveStage(StageId As String, IsMoveUp As Boolean):
        StageId:
            Default: ="Text"
        IsMoveUp:
            Default: =true
        ThisProperty:
            Default: =100
    Fill: =RGBA(0, 0, 0, 0)
    Height: =800
    IsValid: =true//CountRows(Filter(galProcessStages_1.AllItems, !IsBlank(stageBackground.Tooltip))) = 0
    ProcessId: ="a4517557-c6f2-ed11-8848-0022482a91f4"
    TotalStages: =CountRows(galProcessStages_2.AllItems)
    Width: =1000
    X: =0
    Y: =0
    ZIndex: =1

    galProcessStages_2 As gallery.variableTemplateHeightGallery:
        '#CopilotOverlayLabel': ="Filtered"
        AccessibleLabel: ="Process stages"
        BorderColor: =RGBA(166, 166, 166, 1)
        DelayItemLoading: =true
        Height: =Parent.Height
        Items: |-
            =Filter(
                Filter('Business Approval Stages', 'Business Approval Stages (Views)'.'Active Business Approval Stages'),
                Process.'Business Approval Process' = GUID("e574f914-ce52-ee11-be6f-0022482a91f4")//GUID(Parent.ProcessId)
            )
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        ShowNavigation: =true
        ShowScrollbar: =false
        TemplatePadding: =0
        TemplateSize: =280
        Visible: =CountRows(Self.AllItems) > 0
        Width: =Parent.Width - Self.X - 5
        X: =5
        Y: =5
        ZIndex: =2

        "stageBGElevation As 'Fluent Elevation (1.1.29)'":
            DisplayMode: =DisplayMode.Edit
            Height: |-
                =Max(
                    galStageNodes_1.Height + galStageNodes_1.Y -2,
                    lblNoNodeInStage_2.Y + lblNoNodeInStage_2.Height -2, 
                    galStageConditions_2.Y + galStageConditions_2.Height -2
                )
            HoverDepth: ='PowerCAT.Elevation.HoverDepth'.Depth16
            Width: =Parent.TemplateWidth - 2
            X: =5
            Y: =5
            ZIndex: =1

        stageBackGround As groupContainer.manualLayoutContainer:
            BorderColor: |-
                =If(
                    CountRows(galStageNodes_1.AllItems) > 0, 
                    RGBA(105, 121, 126, 1),
                    RGBA(255, 0, 0, 1)
                )
            BorderThickness: =1
            DropShadow: =DropShadow.Semilight
            Fill: =RGBA(237, 237, 237, 1)
            Height: |-
                =Max(
                    galStageNodes_1.Height + galStageNodes_1.Y,
                    lblNoNodeInStage_2.Y + lblNoNodeInStage_2.Height, 
                    galStageConditions_2.Y + galStageConditions_2.Height
                )
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =Parent.TemplateWidth - Self.X
            X: =2
            Y: =5
            ZIndex: =2

        stageBackground_2 As rectangle:
            BorderColor: |-
                =If(
                    CountRows(galStageNodes_1.AllItems) > 0, 
                    RGBA(105, 121, 126, 1),
                    RGBA(255, 0, 0, 1)
                )
            BorderThickness: =1
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(237, 237, 237, 1)
            FocusedBorderThickness: =4
            Height: |-
                =Max(
                    galStageNodes_1.Height + galStageNodes_1.Y,
                    lblNoNodeInStage_2.Y + lblNoNodeInStage_2.Height, 
                    galStageConditions_2.Y + galStageConditions_2.Height
                )
            HoverFill: =RGBA(105, 121, 126, 1)
            OnSelect: =
            PressedFill: =RGBA(105, 121, 126, 1)
            Tooltip: =If(Self.BorderColor = RGBA(255, 0, 0, 1), "Stage must have at least one node", Blank())
            Visible: =false
            Width: =Parent.TemplateWidth
            Y: =5
            ZIndex: =3

        lblGalStageName_2 As label:
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =RGBA(51, 51, 51, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            FontWeight: =FontWeight.Semibold
            Height: =30
            OnSelect: =Select(Parent)
            PaddingLeft: =8
            Size: =10
            Text: |-
                ="Stage: " & ThisItem.Name
            Tooltip: =Self.Text
            Width: =icoMoveUp_1.X
            Wrap: =false
            Y: =stageBackground_2.Y
            ZIndex: =4

        icoEditStage_2 As icon.Edit:
            AccessibleLabel: ="Edit stage"
            BorderColor: =RGBA(166, 166, 166, 1)
            Color: =RGBA(105, 121, 126, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(220, 220, 220, 1)
            DisabledFill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =4
            Height: =30
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            HoverFill: =RGBA(0, 0, 0, 0)
            Icon: =Icon.Edit
            OnSelect: |-
                =ApprovalDesigner_1.EditStage(ThisItem.'Business Approval Stage')
                //Set(_selectedStage, ThisItem);Set(_currentStageIndex, ThisItem.Order);Navigate(scrApprovalStageEditor)
            PaddingBottom: =6
            PaddingLeft: =6
            PaddingRight: =6
            PaddingTop: =6
            PressedBorderColor: =RGBA(0, 0, 0, 0)
            PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            PressedFill: =RGBA(0, 0, 0, 0)
            Visible: =false
            Width: =30
            X: =Parent.TemplateWidth - 60
            Y: =stageBackground_2.Y
            ZIndex: =5

        icoToggleStage_2 As icon.Edit:
            AccessibleLabel: =If(Self.Icon = Icon.ChevronUp, "Hide stage", "Expand stage")
            BorderColor: =RGBA(166, 166, 166, 1)
            Color: =RGBA(105, 121, 126, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(220, 220, 220, 1)
            DisabledFill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =4
            Height: =30
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            HoverFill: =RGBA(0, 0, 0, 0)
            Icon: =If(ThisItem.'Business Approval Stage' in _collapsedStage.Value, Icon.ChevronDown, Icon.ChevronUp)
            OnSelect: |-
                =If(Self.Icon = Icon.ChevronUp, 
                    Collect(_collapsedStage, ThisItem.'Business Approval Stage'), 
                    RemoveIf(_collapsedStage, Value = ThisItem.'Business Approval Stage')
                )
            PaddingBottom: =6
            PaddingLeft: =6
            PaddingRight: =6
            PaddingTop: =6
            PressedBorderColor: =RGBA(0, 0, 0, 0)
            PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            PressedFill: =RGBA(0, 0, 0, 0)
            Visible: =false
            Width: =30
            X: =Parent.TemplateWidth - Self.Width
            Y: =stageBackground_2.Y
            ZIndex: =6

        icoMoveDown_1 As icon.ArrowDown:
            AccessibleLabel: ="Move stage down"
            BorderColor: =RGBA(166, 166, 166, 1)
            Color: =RGBA(105, 121, 126, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(220, 220, 220, 1)
            DisabledFill: =RGBA(0, 0, 0, 0)
            DisplayMode: |-
                =//not allowed to move the first stage or last stage
                If(ThisItem.Order > 1 && ThisItem.Order < ApprovalDesigner_1.TotalStages, DisplayMode.Edit, DisplayMode.Disabled)
            FocusedBorderThickness: =4
            Height: =30
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            HoverFill: =RGBA(0, 0, 0, 0)
            OnSelect: =ApprovalDesigner_1.MoveStage(ThisItem.'Business Approval Stage', false)
            PaddingBottom: =6
            PaddingLeft: =6
            PaddingRight: =6
            PaddingTop: =6
            PressedBorderColor: =RGBA(0, 0, 0, 0)
            PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            PressedFill: =RGBA(0, 0, 0, 0)
            Tooltip: ="Move stage down"
            Visible: =false
            Width: =30
            X: =icoEditStage_2.X - Self.Width
            Y: =icoEditStage_2.Y
            ZIndex: =7

        icoMoveUp_1 As icon.ArrowDown:
            AccessibleLabel: ="Move stage up"
            BorderColor: =RGBA(166, 166, 166, 1)
            Color: =RGBA(105, 121, 126, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(220, 220, 220, 1)
            DisabledFill: =RGBA(0, 0, 0, 0)
            DisplayMode: |-
                =//not allowed to move the first stage or second stage
                If(ThisItem.Order > 2, DisplayMode.Edit, DisplayMode.Disabled)
            FocusedBorderThickness: =4
            Height: =30
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            HoverFill: =RGBA(0, 0, 0, 0)
            Icon: =Icon.ArrowUp
            OnSelect: =ApprovalDesigner_1.MoveStage(ThisItem.'Business Approval Stage', true)
            PaddingBottom: =6
            PaddingLeft: =6
            PaddingRight: =6
            PaddingTop: =6
            PressedBorderColor: =RGBA(0, 0, 0, 0)
            PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            PressedFill: =RGBA(0, 0, 0, 0)
            Tooltip: ="Move stage up"
            Visible: =false
            Width: =30
            X: =icoMoveDown_1.X - Self.Width
            Y: =icoMoveDown_1.Y
            ZIndex: =8

        btnAddFirstNode_2 As button:
            BorderColor: =RGBA(74, 85, 88, 1)
            BorderThickness: =1
            Color: =RGBA(74, 85, 88, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            Fill: =RGBA(204, 204, 204, 1)
            FocusedBorderColor: =ColorFade(Self.Fill, -75%)
            Font: =Font.'Segoe UI'
            FontWeight: =FontWeight.Semibold
            Height: =If(Self.Visible, 20, 0)
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
            OnSelect: |-
                =ApprovalDesigner_1.AddNode(1, 1, ThisItem.Order, ThisItem.'Business Approval Stage')
                
                /*
                Set(_currentNodeIndex, 1);
                Set(_currentPathIndex, 1);
                Set(_currentStageCount, CountRows(galProcessStages_1.AllItems));
                Set(_selectedStage, ThisItem);
                Set(_selectedNode, Blank());
                Navigate(scrApprovalNodeEditor)*/
            PaddingBottom: =3
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            RadiusBottomLeft: =20
            RadiusBottomRight: =20
            RadiusTopLeft: =20
            RadiusTopRight: =20
            Size: =12
            Text: ="+"
            Visible: =!galStageNodes_1.Visible && ThisItem.'Stage Condition' = 'Business Approval Stage Condition'.None && icoToggleStage_2.Icon = Icon.ChevronUp
            Width: =20
            X: =Parent.TemplateWidth / 2 - Self.Width / 2
            Y: =lblGalStageName_2.Height
            ZIndex: =9

        lblNoNodeInStage_2 As label:
            Align: =Align.Center
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =RGBA(51, 51, 51, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            Height: =If(Self.Visible, 30, 0)
            OnSelect: =Select(Parent)
            Size: =9
            Text: ="No node configured for this stage. Click '+' to add first node."
            Visible: =btnAddFirstNode_2.Visible
            Width: =Parent.TemplateWidth
            X: =btnAddFirstNode_2.X + btnAddFirstNode_2.Width / 2 - Self.Width / 2
            Y: =btnAddFirstNode_2.Y + btnAddFirstNode_2.Height + 5
            ZIndex: =10

        lblStageConditionText_2 As label:
            Align: =Align.Center
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =RGBA(51, 51, 51, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            Height: =If(Self.Visible, 20, 0)
            OnSelect: =Select(Parent)
            Size: =8
            Text: |-
                ="If " & If(ThisItem.'Source Data Type' = 'Business Approval Condition Source Data'.'Request Data', 
                    ThisItem.'Source Data Name Value', ThisItem.'Source Data Type') & " " & ThisItem.Operand & 
                If(ThisItem.'Stage Condition' = 'Business Approval Stage Condition'.'If/Else', " " & 
                    First(Filter('Business Approval Conditions', Stage.'Business Approval Stage' = ThisItem.'Business Approval Stage')).'Condition Value Display'
                )
            Visible: =(ThisItem.'Stage Condition' <> 'Business Approval Stage Condition'.None) && icoToggleStage_2.Icon = Icon.ChevronUp
            Width: =Parent.TemplateWidth
            X: =btnAddFirstNode_2.X + btnAddFirstNode_2.Width / 2 - Self.Width / 2
            Y: =btnAddFirstNode_2.Y + btnAddFirstNode_2.Height + If(btnAddFirstNode_2.Visible, 5, 0)
            ZIndex: =11

        galStageNodes_1 As gallery.galleryVertical:
            '#CopilotOverlayLabel': ="Filtered"
            AccessibleLabel: ="Stage nodes"
            BorderColor: =RGBA(255, 0, 0, 1)
            DelayItemLoading: =true
            Height: =If(Self.Visible, CountRows(Self.AllItems) * (Self.TemplateHeight + (2*Self.TemplatePadding)), 0)
            Items: |-
                =AddColumns(
                    GroupBy(
                        SortByColumns(
                            Filter('Business Approval Nodes', Stage.'Business Approval Stage' = ThisItem.'Business Approval Stage'), 
                            "cat_rowindex"
                        ), 'Row Index', Nodes
                    ), Paths, ThisItem.Paths
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =120
            Visible: =CountRows(Self.AllItems) > 0 && icoToggleStage_2.Icon = Icon.ChevronUp
            Width: =Parent.TemplateWidth
            Y: |-
                =If(ThisItem.'Stage Condition' = 'Business Approval Stage Condition'.None,
                    lblGalStageName_2.Height,
                    galStageConditions_2.Y + galStageConditions_2.Height
                )
            ZIndex: =12

            nodeLineCenter1_2 As rectangle:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                DisabledFill: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(128, 128, 128, 1)
                FocusedBorderThickness: =4
                Height: =28
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =
                PressedFill: =RGBA(105, 121, 126, 1)
                Visible: =false
                Width: =1
                X: =nodeBoxPath1_1.X + nodeBoxPath1_1.Width / 2
                Y: =nodeBoxPath1_1.Y + nodeBoxPath1_1.Height
                ZIndex: =1

            nodeBoxPath5_1 As rectangle:
                BorderColor: =RGBA(128, 128, 128, 1)
                BorderThickness: =1
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderThickness: =4
                Height: =88
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =
                PressedFill: =RGBA(105, 121, 126, 1)
                Visible: =!IsBlank(LookUp(ThisItem.Nodes, 'Path Index' = 5))
                Width: =nodeBoxPath1_1.Width
                X: |-
                    =With({pathWidth: Parent.Width / Coalesce(ThisItem.Paths,1)}, (4 * pathWidth) + (pathWidth/2  - Self.Width / 2))
                Y: =
                ZIndex: =2

            nodeBoxPath4_1 As rectangle:
                BorderColor: =RGBA(128, 128, 128, 1)
                BorderThickness: =1
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderThickness: =4
                Height: =88
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =
                PressedFill: =RGBA(105, 121, 126, 1)
                Visible: =!IsBlank(LookUp(ThisItem.Nodes, 'Path Index' = 4))
                Width: =nodeBoxPath1_1.Width
                X: |-
                    =With({pathWidth: Parent.Width / Coalesce(ThisItem.Paths,1)}, (3 * pathWidth) + (pathWidth/2  - Self.Width / 2))
                Y: =
                ZIndex: =3

            nodeBoxPath3_1 As rectangle:
                BorderColor: =RGBA(128, 128, 128, 1)
                BorderThickness: =1
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderThickness: =4
                Height: =88
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =
                PressedFill: =RGBA(105, 121, 126, 1)
                Visible: =!IsBlank(LookUp(ThisItem.Nodes, 'Path Index' = 3))
                Width: =nodeBoxPath1_1.Width
                X: |-
                    =With({pathWidth: Parent.Width / Coalesce(ThisItem.Paths,1)}, (2 * pathWidth) + (pathWidth/2  - Self.Width / 2))
                Y: =
                ZIndex: =4

            nodeBoxPath2_1 As rectangle:
                BorderColor: =RGBA(128, 128, 128, 1)
                BorderThickness: =1
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderThickness: =4
                Height: =88
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =
                PressedFill: =RGBA(105, 121, 126, 1)
                Visible: =!IsBlank(LookUp(ThisItem.Nodes, 'Path Index' = 2))
                Width: =nodeBoxPath1_1.Width
                X: |-
                    =With({pathWidth: Parent.Width / Coalesce(ThisItem.Paths,1)}, pathWidth + (pathWidth/2  - Self.Width / 2))
                Y: =
                ZIndex: =5

            nodeBoxPath1_1 As rectangle:
                BorderColor: =RGBA(128, 128, 128, 1)
                BorderThickness: =1
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderThickness: =4
                Height: =88
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =
                PressedFill: =RGBA(105, 121, 126, 1)
                Visible: =!IsBlank(LookUp(ThisItem.Nodes, 'Path Index' = 1))
                Width: =Min(300, (Parent.TemplateWidth / Coalesce(ThisItem.Paths,1)) - 4)
                X: |-
                    =With({ pathWidth: Parent.Width / Coalesce(ThisItem.Paths,1)}, pathWidth / 2 - Self.Width / 2)
                Y: =
                ZIndex: =6

            btnAddNodePath5_1 As button:
                BorderColor: =RGBA(74, 85, 88, 1)
                BorderThickness: =1
                Color: =RGBA(74, 85, 88, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(204, 204, 204, 1)
                FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =20
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
                OnSelect: |-
                    =With({ stage: First(ThisItem.Nodes).Stage },
                        ApprovalDesigner_1.AddNode(5, ThisItem.cat_rowindex + 1, stage.Order, stage.'Business Approval Stage' )
                    )
                PaddingBottom: =3
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Size: =12
                Text: ="+"
                Visible: =nodeBoxPath5_1.Visible
                Width: =20
                X: =nodeBoxPath5_1.X + nodeBoxPath5_1.Width / 2 - Self.Width / 2
                Y: =nodeLineCenter1_2.Y + nodeLineCenter1_2.Height / 2 - Self.Height / 2
                ZIndex: =7

            btnAddNodePath4_1 As button:
                BorderColor: =RGBA(74, 85, 88, 1)
                BorderThickness: =1
                Color: =RGBA(74, 85, 88, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(204, 204, 204, 1)
                FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =20
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
                OnSelect: |-
                    =With({ stage: First(ThisItem.Nodes).Stage },
                        ApprovalDesigner_1.AddNode(4, ThisItem.cat_rowindex + 1, stage.Order, stage.'Business Approval Stage' )
                    )
                PaddingBottom: =3
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Size: =12
                Text: ="+"
                Visible: =nodeBoxPath4_1.Visible
                Width: =20
                X: =nodeBoxPath4_1.X + nodeBoxPath4_1.Width / 2 - Self.Width / 2
                Y: =nodeLineCenter1_2.Y + nodeLineCenter1_2.Height / 2 - Self.Height / 2
                ZIndex: =8

            btnAddNodePath3_1 As button:
                BorderColor: =RGBA(74, 85, 88, 1)
                BorderThickness: =1
                Color: =RGBA(74, 85, 88, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(204, 204, 204, 1)
                FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =20
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
                OnSelect: |-
                    =With({ stage: First(ThisItem.Nodes).Stage },
                        ApprovalDesigner_1.AddNode(3, ThisItem.cat_rowindex + 1, stage.Order, stage.'Business Approval Stage' )
                    )
                PaddingBottom: =3
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Size: =12
                Text: ="+"
                Visible: =nodeBoxPath3_1.Visible
                Width: =20
                X: =nodeBoxPath3_1.X + nodeBoxPath3_1.Width / 2 - Self.Width / 2
                Y: =nodeLineCenter1_2.Y + nodeLineCenter1_2.Height / 2 - Self.Height / 2
                ZIndex: =9

            btnAddNodePath2_1 As button:
                BorderColor: =RGBA(74, 85, 88, 1)
                BorderThickness: =1
                Color: =RGBA(74, 85, 88, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(204, 204, 204, 1)
                FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =20
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
                OnSelect: |-
                    =With({ stage: First(ThisItem.Nodes).Stage },
                        ApprovalDesigner_1.AddNode(2, ThisItem.cat_rowindex + 1, stage.Order, stage.'Business Approval Stage')
                    )
                PaddingBottom: =3
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Size: =12
                Text: ="+"
                Visible: =nodeBoxPath2_1.Visible
                Width: =20
                X: =nodeBoxPath2_1.X + nodeBoxPath2_1.Width / 2 - Self.Width / 2
                Y: =nodeLineCenter1_2.Y + nodeLineCenter1_2.Height / 2 - Self.Height / 2
                ZIndex: =10

            btnAddNodePath1_1 As button:
                BorderColor: =RGBA(74, 85, 88, 1)
                BorderThickness: =1
                Color: =RGBA(74, 85, 88, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(204, 204, 204, 1)
                FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =20
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
                OnSelect: |-
                    =With({ stage: First(ThisItem.Nodes).Stage },
                        ApprovalDesigner_1.AddNode(1, ThisItem.cat_rowindex + 1, stage.Order, stage.'Business Approval Stage')
                    )
                PaddingBottom: =3
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Size: =12
                Text: ="+"
                Visible: =nodeBoxPath1_1.Visible
                Width: =20
                X: =nodeBoxPath1_1.X + nodeBoxPath1_1.Width / 2 - Self.Width / 2
                Y: =nodeLineCenter1_2.Y + nodeLineCenter1_2.Height / 2 - Self.Height / 2
                ZIndex: =11

            lblNodeApproversPath5_1 As htmlViewer:
                Color: =RGBA(128, 128, 128, 1)
                Font: =Font.'Segoe UI'
                Height: =60
                HtmlText: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 5)},
                        With({ nodeId: node.'Business Approval Node' }, "<div style='overflow:auto;margin:1px;height:54px;text-align:center'>" &
                            If(node.'Node Condition' = 'Business Approval Stage Condition'.None,
                                If(IsBlank(node.'Go To Stage'),    
                                    //show approvers              
                                    Concat(ForAll(Split(node.Approvers, ", "), {Result: ThisRecord.Value}), divStartTemplate_1.Text & Result & "</span></div>"),
                                    //show go to stage
                                    divStartTemplate_1.Text & "Go to <br/><b>" & node.'Go To Stage'.Name & "</b></span></div>"
                                ),
                    
                                //show conditions        
                                Concat(
                                    ShowColumns(
                                        Filter('Business Approval Conditions', Node.'Business Approval Node' = nodeId),
                                        cat_conditionvaluedisplay, cat_GoToStage
                                    ), 
                                    divStartTemplate_1.Text & If(Len(cat_conditionvaluedisplay) > 0, "<b>" & cat_conditionvaluedisplay & "</b><br/>") & "Go to <br/><b>" & 
                                    cat_GoToStage.Name & "</b></span></div>"
                                )    
                            )
                        & "</div>")
                    )
                OnSelect: =
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =7
                Visible: =nodeBoxPath5_1.Visible
                Width: =nodeBoxPath1_1.Width
                X: =nodeBoxPath5_1.X
                Y: =lblNodeApproversPath1_1.Y
                ZIndex: =12

            lblNodeApproversPath4_1 As htmlViewer:
                Color: =RGBA(128, 128, 128, 1)
                Font: =Font.'Segoe UI'
                Height: =60
                HtmlText: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 4)},
                        With({ nodeId: node.'Business Approval Node' }, "<div style='overflow:auto;margin:1px;height:54px;text-align:center'>" &
                            If(node.'Node Condition' = 'Business Approval Stage Condition'.None,
                                If(IsBlank(node.'Go To Stage'),    
                                    //show approvers              
                                    Concat(ForAll(Split(node.Approvers, ", "), {Result: ThisRecord.Value}), divStartTemplate_1.Text & Result & "</span></div>"),
                                    //show go to stage
                                    divStartTemplate_1.Text & "Go to <br/><b>" & node.'Go To Stage'.Name & "</b></span></div>"
                                ),
                    
                                //show conditions        
                                Concat(
                                    ShowColumns(
                                        Filter('Business Approval Conditions', Node.'Business Approval Node' = nodeId),
                                        cat_conditionvaluedisplay, cat_GoToStage
                                    ), 
                                    divStartTemplate_1.Text & If(Len(cat_conditionvaluedisplay) > 0, "<b>" & cat_conditionvaluedisplay & "</b><br/>") & "Go to <br/><b>" & 
                                    cat_GoToStage.Name & "</b></span></div>"
                                )    
                            )
                        & "</div>")
                    )
                OnSelect: =
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =7
                Visible: =nodeBoxPath4_1.Visible
                Width: =nodeBoxPath1_1.Width
                X: =nodeBoxPath4_1.X
                Y: =lblNodeApproversPath1_1.Y
                ZIndex: =13

            lblNodeApproversPath3_1 As htmlViewer:
                Color: =RGBA(128, 128, 128, 1)
                Font: =Font.'Segoe UI'
                Height: =60
                HtmlText: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 3)},
                        With({ nodeId: node.'Business Approval Node' }, "<div style='overflow:auto;margin:1px;height:54px;text-align:center'>" &
                            If(node.'Node Condition' = 'Business Approval Stage Condition'.None,
                                If(IsBlank(node.'Go To Stage'),    
                                    //show approvers              
                                    Concat(ForAll(Split(node.Approvers, ", "), {Result: ThisRecord.Value}), divStartTemplate_1.Text & Result & "</span></div>"),
                                    //show go to stage
                                    divStartTemplate_1.Text & "Go to <br/><b>" & node.'Go To Stage'.Name & "</b></span></div>"
                                ),
                    
                                //show conditions        
                                Concat(
                                    ShowColumns(
                                        Filter('Business Approval Conditions', Node.'Business Approval Node' = nodeId),
                                        cat_conditionvaluedisplay, cat_GoToStage
                                    ), 
                                    divStartTemplate_1.Text & If(Len(cat_conditionvaluedisplay) > 0, "<b>" & cat_conditionvaluedisplay & "</b><br/>") & "Go to <br/><b>" & 
                                    cat_GoToStage.Name & "</b></span></div>"
                                )    
                            )
                        & "</div>")
                    )
                OnSelect: =
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =7
                Visible: =nodeBoxPath3_1.Visible
                Width: =nodeBoxPath1_1.Width
                X: =nodeBoxPath3_1.X
                Y: =lblNodeApproversPath1_1.Y
                ZIndex: =14

            lblNodeApproversPath2_1 As htmlViewer:
                Color: =RGBA(128, 128, 128, 1)
                Font: =Font.'Segoe UI'
                Height: =60
                HtmlText: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 2)},
                        With({ nodeId: node.'Business Approval Node' }, "<div style='overflow:auto;margin:1px;height:54px;text-align:center'>" &
                            If(node.'Node Condition' = 'Business Approval Stage Condition'.None,
                                If(IsBlank(node.'Go To Stage'),    
                                    //show approvers              
                                    Concat(ForAll(Split(node.Approvers, ", "), {Result: ThisRecord.Value}), divStartTemplate_1.Text & Result & "</span></div>"),
                                    //show go to stage
                                    divStartTemplate_1.Text & "Go to <br/><b>" & node.'Go To Stage'.Name & "</b></span></div>"
                                ),
                    
                                //show conditions        
                                Concat(
                                    ShowColumns(
                                        Filter('Business Approval Conditions', Node.'Business Approval Node' = nodeId),
                                        cat_conditionvaluedisplay, cat_GoToStage
                                    ), 
                                    divStartTemplate_1.Text & If(Len(cat_conditionvaluedisplay) > 0, "<b>" & cat_conditionvaluedisplay & "</b><br/>") & "Go to <br/><b>" & 
                                    cat_GoToStage.Name & "</b></span></div>"
                                )    
                            )
                        & "</div>")
                    )
                OnSelect: =
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =7
                Visible: =nodeBoxPath2_1.Visible
                Width: =nodeBoxPath1_1.Width
                X: =nodeBoxPath2_1.X
                Y: =lblNodeApproversPath1_1.Y
                ZIndex: =15

            lblNodeApproversPath1_1 As htmlViewer:
                Color: =RGBA(128, 128, 128, 1)
                Font: =Font.'Segoe UI'
                Height: =60
                HtmlText: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 1)},
                        With({ nodeId: node.'Business Approval Node' }, "<div style='overflow:hidden;margin:1px;height:55px;text-align:center'>" &
                            If(node.'Node Condition' = 'Business Approval Stage Condition'.None,
                                If(IsBlank(node.'Go To Stage'),    
                                    //show approvers              
                                    Concat(
                                        ForAll(Split(node.Approvers, ", "), 
                                            {Result: ThisRecord.Value}), $"{ divStartTemplate_1.Text }{ Result }</span></div>"
                                        ),
                                    //show go to stage
                                    $"{ divStartTemplate_1.Text }Go to <br/><b>{ node.'Go To Stage'.Name }</b></span></div>"
                                ),
                    
                                //show conditions        
                                Concat(
                                    ShowColumns(
                                        Filter('Business Approval Conditions', Node.'Business Approval Node' = nodeId),
                                        cat_conditionvaluedisplay, cat_GoToStage
                                    ), 
                                    divStartTemplate_1.Text & If(Len(cat_conditionvaluedisplay) > 0, $"<b>{ cat_conditionvaluedisplay }</b><br/>") & $"Go to <br/><b>{ cat_GoToStage.Name }</b></span></div>"
                                )    
                            )
                        & "</div>")
                    )
                OnSelect: =
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =7
                Visible: =nodeBoxPath1_1.Visible
                Width: =nodeBoxPath1_1.Width
                X: =nodeBoxPath1_1.X
                Y: =lblNodeNamePath1_1.Y + lblNodeNamePath1_1.Height
                ZIndex: =16

            lblNodeNamePath5_1 As label:
                Align: =Align.Center
                BorderColor: =RGBA(105, 121, 126, 1)
                BorderThickness: =1
                Color: =RGBA(51, 51, 51, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(225, 228, 229, 1)
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                Height: =28
                OnSelect: =
                Size: =8
                Text: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 5)},
                        If(node.'Node Condition' = 'Business Approval Stage Condition'.None, 
                            node.Name, "If " & Coalesce(node.'Source Data Name Value', node.'Source Data Type') & " " & node.Operand
                        )
                    )
                Tooltip: =Self.Text
                Visible: =nodeBoxPath5_1.Visible
                Width: =nodeBoxPath1_1.Width - 2
                Wrap: =false
                X: =nodeBoxPath5_1.X + 1
                Y: =lblNodeNamePath1_1.Y
                ZIndex: =17

            lblNodeNamePath4_1 As label:
                Align: =Align.Center
                BorderColor: =RGBA(105, 121, 126, 1)
                BorderThickness: =1
                Color: =RGBA(51, 51, 51, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(225, 228, 229, 1)
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                Height: =28
                OnSelect: =
                Size: =8
                Text: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 4)},
                        If(node.'Node Condition' = 'Business Approval Stage Condition'.None, 
                            node.Name, "If " & Coalesce(node.'Source Data Name Value', node.'Source Data Type') & " " & node.Operand
                        )
                    )
                Tooltip: =Self.Text
                Visible: =nodeBoxPath4_1.Visible
                Width: =nodeBoxPath1_1.Width - 2
                Wrap: =false
                X: =nodeBoxPath4_1.X + 1
                Y: =lblNodeNamePath1_1.Y
                ZIndex: =18

            lblNodeNamePath3_1 As label:
                Align: =Align.Center
                BorderColor: =RGBA(105, 121, 126, 1)
                BorderThickness: =1
                Color: =RGBA(51, 51, 51, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(225, 228, 229, 1)
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                Height: =28
                OnSelect: =
                Size: =8
                Text: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 3)},
                        If(node.'Node Condition' = 'Business Approval Stage Condition'.None, 
                            node.Name, "If " & Coalesce(node.'Source Data Name Value', node.'Source Data Type') & " " & node.Operand
                        )
                    )
                Tooltip: =Self.Text
                Visible: =nodeBoxPath3_1.Visible
                Width: =nodeBoxPath1_1.Width - 2
                Wrap: =false
                X: =nodeBoxPath3_1.X + 1
                Y: =lblNodeNamePath1_1.Y
                ZIndex: =19

            lblNodeNamePath2_1 As label:
                Align: =Align.Center
                BorderColor: =RGBA(105, 121, 126, 1)
                BorderThickness: =1
                Color: =RGBA(51, 51, 51, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(225, 228, 229, 1)
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                Height: =28
                OnSelect: =
                Size: =8
                Text: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 2)},
                        If(node.'Node Condition' = 'Business Approval Stage Condition'.None, 
                            node.Name, "If " & Coalesce(node.'Source Data Name Value', node.'Source Data Type') & " " & node.Operand
                        )
                    )
                Tooltip: =Self.Text
                Visible: =nodeBoxPath2_1.Visible
                Width: =nodeBoxPath1_1.Width - 2
                Wrap: =false
                X: =nodeBoxPath2_1.X + 1
                Y: =lblNodeNamePath1_1.Y
                ZIndex: =20

            lblNodeNamePath1_1 As label:
                Align: =Align.Center
                BorderColor: =RGBA(105, 121, 126, 1)
                BorderThickness: =1
                Color: =RGBA(51, 51, 51, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(225, 228, 229, 1)
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                Height: =28
                OnSelect: =
                Size: =8
                Text: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 1)},   
                        If(node.'Node Condition' = 'Business Approval Stage Condition'.None, 
                            node.Name, "If " & Coalesce(node.'Source Data Name Value', node.'Source Data Type') & " " & node.Operand
                        )
                    )
                Tooltip: =Self.Text
                Visible: =nodeBoxPath1_1.Visible
                Width: =nodeBoxPath1_1.Width - 2
                Wrap: =false
                X: =nodeBoxPath1_1.X + 1
                Y: =nodeBoxPath1_1.Y + 1
                ZIndex: =21

            icoEditNodePath5_1 As icon.Edit:
                AccessibleLabel: =$"Edit node { lblNodeNamePath5_1.Text }"
                BorderColor: =RGBA(166, 166, 166, 1)
                Color: =RGBA(105, 121, 126, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(220, 220, 220, 1)
                DisabledFill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =4
                Height: =30
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                HoverFill: =RGBA(0, 0, 0, 0)
                Icon: =Icon.Edit
                OnSelect: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 5) },
                        ApprovalDesigner_1.EditNode(node.'Business Approval Node', node.Stage.'Business Approval Stage')
                    )
                PaddingBottom: =8
                PaddingLeft: =8
                PaddingRight: =8
                PaddingTop: =8
                PressedBorderColor: =RGBA(0, 0, 0, 0)
                PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                PressedFill: =RGBA(0, 0, 0, 0)
                Tooltip: =
                Visible: =nodeBoxPath5_1.Visible
                Width: =30
                X: =nodeBoxPath5_1.X + nodeBoxPath5_1.Width - Self.Width
                Y: =icoEditNodePath1_1.Y
                ZIndex: =22

            icoEditNodePath4_1 As icon.Edit:
                AccessibleLabel: =$"Edit node { lblNodeNamePath4_1.Text }"
                BorderColor: =RGBA(166, 166, 166, 1)
                Color: =RGBA(105, 121, 126, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(220, 220, 220, 1)
                DisabledFill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =4
                Height: =30
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                HoverFill: =RGBA(0, 0, 0, 0)
                Icon: =Icon.Edit
                OnSelect: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 4) },
                        ApprovalDesigner_1.EditNode(node.'Business Approval Node', node.Stage.'Business Approval Stage')
                    )
                PaddingBottom: =8
                PaddingLeft: =8
                PaddingRight: =8
                PaddingTop: =8
                PressedBorderColor: =RGBA(0, 0, 0, 0)
                PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                PressedFill: =RGBA(0, 0, 0, 0)
                Tooltip: =
                Visible: =nodeBoxPath4_1.Visible
                Width: =30
                X: =nodeBoxPath4_1.X + nodeBoxPath4_1.Width - Self.Width
                Y: =icoEditNodePath1_1.Y
                ZIndex: =23

            icoEditNodePath3_1 As icon.Edit:
                AccessibleLabel: =$"Edit node { lblNodeNamePath3_1.Text }"
                BorderColor: =RGBA(166, 166, 166, 1)
                Color: =RGBA(105, 121, 126, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(220, 220, 220, 1)
                DisabledFill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =4
                Height: =30
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                HoverFill: =RGBA(0, 0, 0, 0)
                Icon: =Icon.Edit
                OnSelect: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 3) },
                        ApprovalDesigner_1.EditNode(node.'Business Approval Node', node.Stage.'Business Approval Stage')
                    )
                PaddingBottom: =8
                PaddingLeft: =8
                PaddingRight: =8
                PaddingTop: =8
                PressedBorderColor: =RGBA(0, 0, 0, 0)
                PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                PressedFill: =RGBA(0, 0, 0, 0)
                Tooltip: =
                Visible: =nodeBoxPath3_1.Visible
                Width: =30
                X: =nodeBoxPath3_1.X + nodeBoxPath3_1.Width - Self.Width
                Y: =icoEditNodePath1_1.Y
                ZIndex: =24

            icoEditNodePath2_1 As icon.Edit:
                AccessibleLabel: =$"Edit node { lblNodeNamePath2_1.Text }"
                BorderColor: =RGBA(166, 166, 166, 1)
                Color: =RGBA(105, 121, 126, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(220, 220, 220, 1)
                DisabledFill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =4
                Height: =30
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                HoverFill: =RGBA(0, 0, 0, 0)
                Icon: =Icon.Edit
                OnSelect: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 2) },
                        ApprovalDesigner_1.EditNode(node.'Business Approval Node', node.Stage.'Business Approval Stage')
                    )
                PaddingBottom: =8
                PaddingLeft: =8
                PaddingRight: =8
                PaddingTop: =8
                PressedBorderColor: =RGBA(0, 0, 0, 0)
                PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                PressedFill: =RGBA(0, 0, 0, 0)
                Tooltip: =
                Visible: =nodeBoxPath2_1.Visible
                Width: =30
                X: =nodeBoxPath2_1.X + nodeBoxPath2_1.Width - Self.Width
                Y: =icoEditNodePath1_1.Y
                ZIndex: =25

            icoEditNodePath1_1 As icon.Edit:
                AccessibleLabel: =$"Edit node { lblNodeNamePath1_1.Text }"
                BorderColor: =RGBA(166, 166, 166, 1)
                Color: =RGBA(105, 121, 126, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(220, 220, 220, 1)
                DisabledFill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =4
                Height: =30
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                HoverFill: =RGBA(0, 0, 0, 0)
                Icon: =Icon.Edit
                OnSelect: |-
                    =With({ node: LookUp(ThisItem.Nodes, 'Path Index' = 1) },
                        ApprovalDesigner_1.EditNode(node.'Business Approval Node', node.Stage.'Business Approval Stage')
                    )
                PaddingBottom: =8
                PaddingLeft: =8
                PaddingRight: =8
                PaddingTop: =8
                PressedBorderColor: =RGBA(0, 0, 0, 0)
                PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                PressedFill: =RGBA(0, 0, 0, 0)
                Tooltip: =
                Visible: =nodeBoxPath1_1.Visible
                Width: =30
                X: =nodeBoxPath1_1.X + nodeBoxPath1_1.Width - Self.Width
                Y: =lblNodeNamePath1_1.Y + lblNodeNamePath1_1.Height / 2 - Self.Height / 2
                ZIndex: =26

        galStageConditions_2 As gallery.galleryVertical:
            '#CopilotOverlayLabel': ="Filtered"
            AccessibleLabel: ="Conditions"
            BorderColor: =RGBA(166, 166, 166, 1)
            Height: =If(Self.Visible, 62, 0)
            Items: |-
                =AddColumns(
                    SortByColumns(
                        ThisItem.'Business Approval Conditions (cat_BusinessApprovalCondition_Stage_cat_B)',
                        //Filter('Business Approval Conditions', Stage.'Business Approval Stage' = ThisItem.'Business Approval Stage'), 
                        "cat_pathindex"
                    ),
                   StageSelection, ThisItem
                )
            Layout: =Layout.Vertical
            OnSelect: =
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =Self.Height
            Visible: =CountRows(Self.AllItems) > 0 && icoToggleStage_2.Icon = Icon.ChevronUp && ThisItem.'Stage Condition' <> 'Business Approval Stage Condition'.None
            Width: =Parent.TemplateWidth
            WrapCount: =Max(2, CountRows(Self.AllItems))
            Y: =lblStageConditionText_2.Y + lblStageConditionText_2.Height
            ZIndex: =13

            nodeLineRightH_4 As rectangle:
                BorderColor: =RGBA(105, 121, 126, 1)
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(128, 128, 128, 1)
                FocusedBorderThickness: =4
                Height: =1
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =Select(Parent)
                PressedFill: =RGBA(105, 121, 126, 1)
                Visible: =ThisItem.'Path Index' < ThisItem.StageSelection.Paths
                Width: =Parent.TemplateWidth / 2
                X: =nodeLineCondition_8.X
                ZIndex: =1

            nodeLineLeftH_8 As rectangle:
                BorderColor: =RGBA(105, 121, 126, 1)
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(128, 128, 128, 1)
                FocusedBorderThickness: =4
                Height: =1
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =Select(Parent)
                PressedFill: =RGBA(105, 121, 126, 1)
                Visible: =ThisItem.'Path Index' > 1
                Width: =Parent.TemplateWidth / 2
                ZIndex: =7

            nodeLineCondition_8 As rectangle:
                BorderColor: =RGBA(0, 0, 0, 1)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(128, 128, 128, 1)
                FocusedBorderThickness: =4
                Height: =10
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =
                PressedFill: =RGBA(105, 121, 126, 1)
                Width: =1
                X: =btnAddFirstNodeInCondition_2.X + btnAddFirstNodeInCondition_2.Width / 2 - Self.Width / 2
                ZIndex: =8

            lblConditionTarget_6 As label:
                Align: =Align.Center
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Color: =RGBA(51, 51, 51, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(237, 237, 237, 1)
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                Height: =28
                PaddingTop: =0
                Size: =8
                Text: |-
                    =If(ThisItem.StageSelection.'Stage Condition' = 'Business Approval Stage Condition'.'If/Else', "TRUE",
                        If(ThisItem.'Condition Data Type' = 'Business Approval Condition Target Data'.'Request Data',
                            ThisItem.'Condition Data'.Name, 
                            ThisItem.'Condition Value Display'
                        )
                    )
                Width: =nodeLineRightH_4.Width
                X: =Parent.TemplateWidth / 2 - Self.Width / 2
                Y: =10
                ZIndex: =9

            btnAddFirstNodeInCondition_2 As button:
                BorderColor: =RGBA(74, 85, 88, 1)
                BorderThickness: =1
                Color: =RGBA(74, 85, 88, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(204, 204, 204, 1)
                FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =20
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
                OnSelect: =ApprovalDesigner_1.AddNode(ThisItem.'Path Index', 1, ThisItem.Stage.Order, ThisItem.Stage.'Business Approval Stage')
                PaddingBottom: =3
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Size: =12
                Text: ="+"
                Width: =20
                X: =Parent.TemplateWidth / 2 - Self.Width / 2
                Y: =lblConditionTarget_6.Y + lblConditionTarget_6.Height
                ZIndex: =10

        conFalsePath_2 As groupContainer:
            BorderColor: =RGBA(105, 121, 126, 1)
            Height: =galStageConditions_2.Height
            Visible: =ThisItem.'Stage Condition' = 'Business Approval Stage Condition'.'If/Else' && icoToggleStage_2.Icon = Icon.ChevronUp
            Width: =galStageConditions_2.TemplateWidth
            X: =galStageConditions_2.X + galStageConditions_2.Width / 2
            Y: =galStageConditions_2.Y
            ZIndex: =14

            nodeLineLeftH_9 As rectangle:
                BorderColor: =RGBA(105, 121, 126, 1)
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(128, 128, 128, 1)
                FocusedBorderThickness: =4
                Height: =1
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =
                PressedFill: =RGBA(105, 121, 126, 1)
                Width: =Parent.Width / 2
                ZIndex: =3

            nodeLineCondition_9 As rectangle:
                BorderColor: =RGBA(0, 0, 0, 1)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(128, 128, 128, 1)
                FocusedBorderThickness: =4
                Height: =10
                HoverFill: =RGBA(105, 121, 126, 1)
                OnSelect: =
                PressedFill: =RGBA(105, 121, 126, 1)
                Width: =1
                X: =nodeLineLeftH_8.X + nodeLineLeftH_8.Width - 1
                ZIndex: =4

            Label3_4 As label:
                Align: =Align.Center
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Color: =RGBA(51, 51, 51, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                Height: =28
                PaddingTop: =0
                Size: =9
                Text: ="FALSE"
                Width: =Parent.Width
                Y: =10
                ZIndex: =5

            btnAddFirstNodeFalsePath_3 As button:
                BorderColor: =RGBA(74, 85, 88, 1)
                BorderThickness: =1
                Color: =RGBA(74, 85, 88, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(204, 204, 204, 1)
                FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =20
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
                OnSelect: =ApprovalDesigner_1.AddNode(2, 1, ThisItem.Order, ThisItem.'Business Approval Stage')
                PaddingBottom: =3
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Size: =12
                Text: ="+"
                Width: =20
                X: =Parent.Width / 2 - Self.Width / 2
                Y: =Label3_4.Y + Label3_4.Height
                ZIndex: =6

        "icoEdit As 'Fluent Icon (1.1.29)'":
            DisplayMode: =DisplayMode.Edit
            Height: =30
            IconName: ="Edit"
            OnChange: =ApprovalDesigner_1.EditStage(ThisItem.'Business Approval Stage')
            TextAlignment: ='PowerCAT.Icon.TextAlignment'.Center
            Theme: =AppThemeJson
            Tooltip: ="Edit stage"
            Width: =30
            X: =Parent.TemplateWidth - 60 - 1
            Y: =stageBackground_2.Y + 1
            ZIndex: =15

        "icoToggle As 'Fluent Icon (1.1.29)'":
            AccessibilityLabel: =If(ThisItem.'Business Approval Stage' in _collapsedStage.Value, "Hide stage", "Expand stage")
            DisplayMode: =DisplayMode.Edit
            Height: =30
            IconName: =If(ThisItem.'Business Approval Stage' in _collapsedStage.Value, "ChevronDown", "ChevronUp")
            OnChange: |-
                =If(ThisItem.'Business Approval Stage' in _collapsedStage.Value, 
                    Collect(_collapsedStage, ThisItem.'Business Approval Stage'), 
                    RemoveIf(_collapsedStage, Value = ThisItem.'Business Approval Stage')
                )
            TextAlignment: ='PowerCAT.Icon.TextAlignment'.Center
            Theme: =AppThemeJson
            Tooltip: =If(ThisItem.'Business Approval Stage' in _collapsedStage.Value, "Hide stage", "Expand stage")
            Width: =30
            X: =Parent.TemplateWidth - Self.Width - 1
            Y: =stageBackground_2.Y + 1
            ZIndex: =16

        "icoShiftDown As 'Fluent Icon (1.1.29)'":
            DisplayMode: =DisplayMode.Edit
            Height: =30
            IconName: ="Down"
            OnChange: =ApprovalDesigner_1.MoveStage(ThisItem.'Business Approval Stage', false)
            TextAlignment: ='PowerCAT.Icon.TextAlignment'.Center
            Theme: =AppThemeJson
            Tooltip: ="Move stage down"
            Width: =30
            X: =icoEdit.X - Self.Width - 1
            Y: =stageBackground_2.Y + 1
            ZIndex: =17

        "icoShiftUp As 'Fluent Icon (1.1.29)'":
            DisplayMode: =DisplayMode.Edit
            Height: =30
            IconName: ="Up"
            OnChange: =ApprovalDesigner_1.MoveStage(ThisItem.'Business Approval Stage', true)
            TextAlignment: ='PowerCAT.Icon.TextAlignment'.Center
            Theme: =AppThemeJson
            Tooltip: ="Move stage down"
            Width: =30
            X: =icoMoveDown_1.X - Self.Width - 1
            Y: =stageBackground_2.Y + 1
            ZIndex: =18

    divStartTemplate_1 As label:
        BorderColor: =RGBA(0, 0, 0, 0)
        BorderStyle: =BorderStyle.None
        BorderThickness: =2
        Color: =RGBA(51, 51, 51, 1)
        DisabledBorderColor: =RGBA(0, 0, 0, 0)
        DisabledColor: =RGBA(166, 166, 166, 1)
        FocusedBorderThickness: =4
        Font: =Font.'Segoe UI'
        Height: =0
        PaddingBottom: =0
        PaddingLeft: =0
        PaddingRight: =0
        PaddingTop: =0
        Size: =13
        Text: |-
            ="<div style='border: 1px solid #888;line-height:46px;height:46px;width:50px;word-wrap:normal;display:inline-block;text-align:center;vertical-align:middle;margin:2px;padding:0px 2px 4px 2px'><span style='line-height:11px;display:inline-block;vertical-align:middle'>"
        Visible: =false
        Width: =0
        ZIndex: =3

