scrWizardProcessVersion As screen:
    LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
    OnVisible: |-
        =Refresh('Business Approval Versions');
        ClearCollect(_colPublishedVersions, 
            Filter(
                Filter('Business Approval Versions', 'Business Approval Versions (Views)'.'All Versions'),
                Process.'Business Approval Process' = _selectedProcess.'Business Approval Process'
            )
        )

    RootContainer_6 As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =16
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =16
        PaddingLeft: =16
        PaddingRight: =16
        PaddingTop: =16
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =1

        Container4_6 As groupContainer.verticalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =1
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =1

            Container12_11 As groupContainer.verticalAutoLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =72
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =72
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                ZIndex: =1

                Container11_11 As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.Start
                    FillPortions: =0
                    Height: =Parent.Height
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: =Parent.Width
                    ZIndex: =2

                    "Breadcrumb1_5 As 'Fluent Breadcrumb (1.0.22)'.pcfdataset":
                        DisplayMode: =DisplayMode.Edit
                        Height: =54
                        Items: |-
                            =Table(
                                {
                                    ItemKey: "1",
                                    ItemDisplayName: "Workflow",
                                    ItemClickable: false
                                },
                                {
                                    ItemKey: "2",
                                    ItemDisplayName: "New Workflow",
                                    ItemClickable: false
                                }
                            )
                        Width: =433
                        X: =15
                        Y: =11
                        ZIndex: =2

            Container10_5 As groupContainer.horizontalAutoLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                LayoutGap: =3
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =2

                Container11_12 As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =210
                    ZIndex: =1

                    "SubwayNav2_6 As 'SubwayNav (1.0.22) Preview'.pcfdataset":
                        DisplayMode: =DisplayMode.Disabled
                        Height: =486
                        Items: |-
                            =Table(
                                { ItemKey:"1", ItemLabel:"Create Workflow", ItemState:"Completed", ItemDisabled:true },
                                { ItemKey:"2", ItemLabel:"Create Stages & Nodes", ItemState:"NotStarted", ItemDisabled:true },
                                /*{ ItemKey:"3", ItemLabel:"Create Node(Step)", ItemState:"NotStarted", ItemDisabled:true },*/
                                { ItemKey:"4", ItemLabel:"Publish", ItemState:"NotStarted", ItemDisabled:true }
                            )
                        ShowAnimation: =false
                        Theme: =AppThemeJson
                        Width: =200
                        WizardCompleteorError: ='PowerCAT.SubwayNav.WizardCompleteorError'.None
                        X: =10
                        Y: =24
                        ZIndex: =1

                recHeaderDevider_9 As rectangle:
                    AlignInContainer: =AlignInContainer.Start
                    BorderColor: =RGBA(166, 166, 166, 1)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    DisabledFill: =RGBA(166, 166, 166, 1)
                    Fill: =ColorValue(AppTheme.palette.neutralLight)
                    FocusedBorderColor: =RGBA(0, 120, 212, 1)
                    Height: =Parent.Height - 10
                    HoverFill: =RGBA(225, 223, 221, 1)
                    PressedFill: =RGBA(225, 223, 221, 1)
                    Width: =1
                    ZIndex: =3

                Container1_18 As groupContainer:
                    Height: =Parent.Height - Self.Y
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: =Parent.Width - Self.X
                    ZIndex: =5

                    "CommandBar2_9 As 'Fluent Command Bar (1.0.22)'.pcfdataset":
                        DisplayMode: =DisplayMode.Edit
                        Height: =40
                        Items: |-
                            =Table(
                               /* {
                                    ItemKey: "back",
                                    ItemDisplayName: "Back",
                                    ItemIconName: "NavigateBack"
                                },*/{
                                    ItemKey: "process",
                                    ItemDisplayName: "Process",
                                    ItemIconName: "Flowchart"
                                },{
                                    ItemKey: "workflow",
                                    ItemDisplayName: "Workflow",
                                    ItemIconName: "WorkFlow"
                                },{
                                    ItemKey: "refresh",
                                    ItemDisplayName: "Refresh",
                                    ItemIconName: "Refresh"
                                }
                            )
                        OnSelect: |-
                            =Switch(Self.Selected.ItemKey, 
                                "back",
                                    Back(),
                                "workflow",
                                    Navigate(scrWizardWorkflowEditor),
                                "process",
                                    Navigate(scrWizardProcessEditor),
                                "refresh",
                                    Refresh('Business Approval Versions');
                                    ClearCollect(_colPublishedVersions, 
                                    Filter(
                                        Filter('Business Approval Versions', 'Business Approval Versions (Views)'.'All Versions'),
                                        Process.'Business Approval Process' = _selectedProcess.'Business Approval Process'
                                    )
                                )
                            )
                        Theme: =AppThemeJson
                        Width: =Parent.Width
                        X: =0
                        Y: =0
                        ZIndex: =1

                    galProcessVersion_1 As gallery.galleryVertical:
                        BorderColor: =RGBA(166, 166, 166, 1)
                        DelayItemLoading: =true
                        Height: =CountRows(Self.AllItems) * (Self.TemplateHeight + 2 * Self.TemplatePadding)
                        Items: =_colPublishedVersions
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplateSize: =40
                        Visible: =CountRows(Self.AllItems) > 0
                        Width: =TableHeader_8.Width
                        X: =TableHeader_8.X
                        Y: =TableHeader_8.Y + TableHeader_8.Height
                        ZIndex: =2

                        Rectangle4_3 As rectangle:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            DisplayMode: =DisplayMode.Disabled
                            Fill: =RGBA(230, 230, 230, 1)
                            FocusedBorderThickness: =4
                            Height: =1
                            HoverFill: =RGBA(105, 121, 126, 1)
                            OnSelect: =Select(Parent)
                            PressedFill: =RGBA(105, 121, 126, 1)
                            Width: =Parent.TemplateWidth - 5
                            Y: =Parent.TemplateHeight - 1
                            ZIndex: =1

                        lblVersionNo_1 As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(51, 51, 51, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            OnSelect: =Select(Parent)
                            PaddingLeft: =12
                            Size: =10
                            Text: =ThisItem.Version
                            Width: =25
                            ZIndex: =2

                        lblVersionCreatedBy_1 As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(51, 51, 51, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            OnSelect: =Select(Parent)
                            PaddingLeft: =12
                            Size: =10
                            Text: =ThisItem.'Created By'.'Full Name'
                            Width: =250
                            Wrap: =false
                            X: =90
                            ZIndex: =3

                        lblVersionCreated_1 As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(51, 51, 51, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            OnSelect: =Select(Parent)
                            PaddingLeft: =12
                            Size: =10
                            Text: |-
                                =Text(ThisItem.'Created On', "dd mmm yyyy hh:mm AM/PM")
                            Width: =200
                            Wrap: =false
                            X: =542
                            ZIndex: =4

                        lblVersionPubStatus_1 As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =RGBA(51, 51, 51, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            OnSelect: =Select(Parent)
                            PaddingLeft: =12
                            Size: =10
                            Text: =ThisItem.'Publishing Status'
                            Wrap: =false
                            X: =694
                            ZIndex: =5

                        lblVersionStatus_1 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =If(ThisItem.Status = 'Status (Business Approval Versions)'.Active, RGBA(255, 255, 255, 1), RGBA(0, 0, 0, 1))
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Fill: =If(ThisItem.Status = 'Status (Business Approval Versions)'.Active, RGBA(54, 176, 75, 1), RGBA(54, 176, 75, 0))
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.TemplateHeight - 10
                            OnSelect: =Select(Parent)
                            Size: =10
                            Text: =ThisItem.Status
                            Visible: =icoViewRuntimeProcess_1.Visible
                            Width: =90
                            Wrap: =false
                            Y: =Parent.TemplateHeight / 2 - Self.Height / 2
                            ZIndex: =6

                        icoRefreshPubStatus_1 As icon.Edit:
                            BorderColor: =RGBA(166, 166, 166, 1)
                            Color: =RGBA(105, 121, 126, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(220, 220, 220, 1)
                            DisabledFill: =RGBA(0, 0, 0, 0)
                            FocusedBorderThickness: =4
                            Height: =Parent.TemplateHeight
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            Icon: =Icon.Reload
                            OnSelect: =Refresh('Business Approval Versions')
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            PressedBorderColor: =RGBA(0, 0, 0, 0)
                            PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                            PressedFill: =RGBA(0, 0, 0, 0)
                            Width: =Self.Height
                            X: =749
                            ZIndex: =7

                        icoViewRuntimeProcess_1 As icon.DetailList:
                            BorderColor: =RGBA(166, 166, 166, 1)
                            Color: =RGBA(105, 121, 126, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(220, 220, 220, 1)
                            DisabledFill: =RGBA(0, 0, 0, 0)
                            FocusedBorderThickness: =4
                            Height: =icoRefreshPubStatus_1.Height
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            Icon: =Icon.Information
                            OnSelect: =Set(_selectedProcessVersion, ThisItem);Navigate(scrRuntimeProcessView)
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            PressedBorderColor: =RGBA(0, 0, 0, 0)
                            PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                            PressedFill: =RGBA(0, 0, 0, 0)
                            Visible: =ThisItem.'Publishing Status' = 'Business Approval Publishing Status'.Published
                            Width: =icoRefreshPubStatus_1.Width
                            Y: =icoRefreshPubStatus_1.Y
                            ZIndex: =8

                        icoViewApprovalVersion_1 As icon.DetailList:
                            BorderColor: =RGBA(166, 166, 166, 1)
                            Color: =RGBA(105, 121, 126, 1)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(220, 220, 220, 1)
                            DisabledFill: =RGBA(0, 0, 0, 0)
                            FocusedBorderThickness: =4
                            Height: =icoRefreshPubStatus_1.Height
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            Icon: =Icon.LevelsLayersItems
                            OnSelect: =Set(_selectedProcessVersion, ThisItem);//Navigate(scrRuntimeWorkflowView)
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            PressedBorderColor: =RGBA(0, 0, 0, 0)
                            PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                            PressedFill: =RGBA(0, 0, 0, 0)
                            Visible: =ThisItem.'Publishing Status' = 'Business Approval Publishing Status'.Published
                            Width: =icoRefreshPubStatus_1.Width
                            Y: =icoRefreshPubStatus_1.Y
                            ZIndex: =9

                        btnActivate_1 As button:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            Fill: =RGBA(105, 121, 126, 1)
                            FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                            Font: =Font.'Segoe UI'
                            Height: =30
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: =RGBA(255, 255, 255, 1)
                            HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
                            OnSelect: |-
                                =//deactivate all other versions and activate current selection
                                ForAll(_colPublishedVersions, 
                                    UpdateIf('Business Approval Versions', 'Business Approval Version' = ThisRecord.'Business Approval Version',
                                        { Status: 
                                            If('Business Approval Version' = ThisItem.'Business Approval Version', 
                                            'Status (Business Approval Versions)'.Active, 'Status (Business Approval Versions)'.Inactive)
                                        }
                                    )
                                );
                                Select(btnRefreshPublishedVersions_1)
                            PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                            PressedColor: =RGBA(255, 255, 255, 1)
                            PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =10
                            Text: ="Activate"
                            Visible: =ThisItem.Status = 'Status (Business Approval Versions)'.Inactive
                            Width: =100
                            Y: =lblVersionStatus_1.Y
                            ZIndex: =10

                    Label6_3 As label:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        Color: =RGBA(51, 51, 51, 1)
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        FocusedBorderThickness: =4
                        Font: =Font.'Segoe UI'
                        PaddingLeft: =12
                        Size: =10
                        Text: ="Published versions for " & _selectedProcess.Name
                        Width: =Parent.Width
                        Y: =CommandBar2_9.Height
                        ZIndex: =3

                    btnRefreshPublishedVersions_1 As button:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Fill: =RGBA(105, 121, 126, 1)
                        FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                        Font: =Font.'Segoe UI'
                        FontWeight: =FontWeight.Semibold
                        Height: =1
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
                        OnSelect: |-
                            =Refresh('Business Approval Versions');
                            ClearCollect(_colPublishedVersions, 
                                Filter(
                                    Filter('Business Approval Versions', 'Business Approval Versions (Views)'.'All Versions'),
                                    Process.'Business Approval Process' = _selectedProcess.'Business Approval Process'
                                )
                            )
                        PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =15
                        Text: =""
                        Visible: =false
                        Width: =1
                        ZIndex: =4

                    TableHeader_8 As TableHeader:
                        ColumnOnClick: ="Text"
                        Columns: |-
                            =Table(
                                { Index: 1, Text: "Version", Column: "cat_version", Width: 60, Offset: 0, EnableSort: false },    
                                { Index: 2, Text: "Created By", Column: "Createdby", Width: 250, Offset: -150, EnableSort: false },
                                { Index: 3, Text: "Created On", Column: "Createdon", Width: 250, Offset: -150, EnableSort: true },
                                { Index: 4, Text: "Publishing Status", Column: "cat_publishingstatus", Width: 120, Offset: -202, EnableSort: false },
                                { Index: 5, Text: "Activation Status", Column: "status", Width: 120, Offset: -305, EnableSort: false }
                            )
                        EnableSort: =false
                        Width: =Parent.Width - 50
                        X: =20
                        Y: =Label6_3.Y + Label6_3.Height
                        ZIndex: =5

                    Label6_4 As label:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        Color: =RGBA(51, 51, 51, 1)
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        FocusedBorderThickness: =4
                        Font: =Font.'Segoe UI'
                        Size: =10
                        Text: ="No published version found."
                        Visible: =!galProcessVersion_1.Visible
                        Width: =Parent.Width - Self.X
                        X: =galProcessVersion_1.X
                        Y: =galProcessVersion_1.Y
                        ZIndex: =6

            Container12_12 As groupContainer.verticalAutoLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =72
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutGap: =12
                LayoutMinHeight: =72
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                ZIndex: =3

                btnBack_8 As Button:
                    BorderColor: =ColorValue(AppTheme.palette.neutralPrimary)
                    BorderRadius: =2
                    BorderStyle: =BorderStyle.Solid
                    BorderThickness: =1
                    ButtonType: ='Button.ButtonType'.Standard
                    DisplayMode: =DisplayMode.Edit
                    FillColor: =ColorValue(AppTheme.palette.white)
                    FontWeight: =FontWeight.Semibold
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: =Back()
                    Text: ="Back"
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =1

                btnNext_8 As Button:
                    BorderRadius: =2
                    ButtonType: ='Button.ButtonType'.Primary
                    DisplayMode: =
                    FontWeight: =FontWeight.Semibold
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: =
                    Text: ="Publish"
                    Visible: =true
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =2

